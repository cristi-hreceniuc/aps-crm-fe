<!-- views/voluntari.ejs -->
<%- include('partials/head', { title: 'Voluntari' }) %>
<div class="app">
  <%- include('partials/sidenav', { path, isLogged, user }) %>

  <main class="content-shell">
    <header class="content-header">
      <h1>Voluntari</h1>
      <small class="muted">Listă paginată, sortabilă și cu căutare</small>
    </header>

    <%- include('partials/datagrid', {
      gridId: 'voluntari',
      title: 'Voluntari',
      subtitle: 'Detalii despre voluntari',
      searchPlaceholder: 'Caută în toate câmpurile…',

      /* Folosește proxy-ul Node: /api/voluntari atașează Bearer și forwardează spre Spring */
      endpoint: '/api/voluntari',

      /* implicit 10 per pagină */
      pageSize: 10,

      /* Mapping către Spring Data Page (0-based) */
      api: {
        pageParam: 'page',
        sizeParam: 'size',
        sortParam: 'sort',
        sortValue: '{key},{dir}',
        pageBase: 0
        // Dacă ai implementat căutare în BE: ,searchParam: 'q'
      },
      response: {
        items: 'content',
        page: 'number',
        size: 'size',
        total: 'totalElements'
      },

      /* Coloane (cheile corespund exact cu DTO-ul din BE) */
      columns: [
        { key: 'id',             label: 'ID',              sortable: true,  width: '8%'  },
        { key: 'name',           label: 'Nume',            sortable: true,  width: '14%' },
        { key: 'date',           label: 'Dată',            sortable: true,  width: '10%', type: 'date' },
        { key: 'postName',       label: 'Nume post',       sortable: true,  width: '18%' },
        { key: 'email',          label: 'Email',           sortable: true,  width: '16%' },
        { key: 'phone',          label: 'Telefon',         sortable: false, width: '12%' },
        { key: 'disponibility',  label: 'Disponibilitate', sortable: false, width: '10%' },
        { key: 'domain',         label: 'Domeniu',         sortable: true,  width: '12%' },
        { key: 'age',            label: 'Vârstă',          sortable: true,  width: '8%'  },
        { key: 'ocupation',      label: 'Ocupație',        sortable: true,  width: '12%' },
        { key: 'motivation',     label: 'Motivație',       sortable: true,               },
        { key: 'experience',     label: 'Experiență',      sortable: true                },
        { key: 'link',           label: 'Link',            sortable: false, width: '7%',  type: 'link' }
      ]
    }) %>
  </main>
</div>
<%- include('partials/footer') %>
